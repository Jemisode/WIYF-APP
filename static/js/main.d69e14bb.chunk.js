(window.webpackJsonpwiyf=window.webpackJsonpwiyf||[]).push([[0],{39:function(e,t,n){e.exports=n(68)},44:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(19),c=n.n(i),l=n(10),s=n(17),o=(n(44),function(){return r.a.createElement("div",{className:"card bg-info my-3"},r.a.createElement("h1",null,r.a.createElement(l.b,{style:{textDecoration:"none",color:"#FFC107"},to:"/"},"What's In Your Fridge")))}),d=n(14),u=n(11),m=n(12),h=n(15),p=n(13),f=n(6),b=n(16),g=n(36),E=n.n(g).a.create({baseURL:"https://tasty.developme.space/api/",headers:{Accept:"application/json"}}),v=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={ingredient:"",ingredientID:0,error:!1,ingredients:[],loaded:!1},n.handleChange=n.handleChange.bind(Object(f.a)(n)),n.handleClick=n.handleClick.bind(Object(f.a)(n)),n.handleDelete=n.handleDelete.bind(Object(f.a)(n)),n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){var t=this.state.ingredients.find((function(t){return t.name===e.currentTarget.value}));this.setState({ingredient:e.currentTarget.value,ingredientID:void 0===t?0:t.id,error:!1})}},{key:"handleClick",value:function(){var e=this.props,t=e.chosenIngredients,n=e.handleIngredient,a=this.state.ingredients,r=this.state.ingredient,i=this.state.ingredientID;t.length<=2&&a.map((function(e){return e.name})).includes(r)&&!t.map((function(e){return e.name})).includes(r)?(n(i,r),this.setState({ingredient:"",ingredientID:0})):this.setState({error:!0})}},{key:"handleDelete",value:function(e,t){e.preventDefault(),this.props.handleRemoveIngredient(t)}},{key:"componentDidMount",value:function(){var e=this;E.get("/ingredients").then((function(t){var n=t.data;e.setState({loaded:!0,ingredients:n})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.ingredient,a=t.error,i=t.ingredients,c=t.loaded,s=this.props.chosenIngredients;return c?r.a.createElement("div",{className:"d-flex flex-column justify-content-center text-center",style:{height:"70vh"}},r.a.createElement("div",{className:"card bg-info text-white d-flex align-items-center py-5"},r.a.createElement("form",{className:""},r.a.createElement("div",{className:"form-group",style:{maxWidth:250}},r.a.createElement("label",{htmlFor:"ingredient-choice"},r.a.createElement("h4",null,"Pick Your Ingredients")),r.a.createElement("input",{type:"text",className:"form-control my-2",onChange:function(t){return e.handleChange(t)},value:n,list:"ingredients",id:"ingredient-choice"}),r.a.createElement("datalist",{id:"ingredients"},i.map((function(e){return r.a.createElement("option",{key:e.id,value:e.name})}))),r.a.createElement("button",{type:"button",className:"btn btn-warning btn-block my-3 text-secondary font-weight-bold",onClick:this.handleClick},"Add"),a?r.a.createElement("p",{className:"text-warning"},"Please pick up to 3 different ingredients, from our list"):null),r.a.createElement("div",{className:"form-group"},r.a.createElement("h4",null,"Ingredients"),r.a.createElement("ul",{className:"col"},s.map((function(t,n){return r.a.createElement("div",{key:n,className:"row"},r.a.createElement("li",null,r.a.createElement("h5",null,t.name)),r.a.createElement("button",{onClick:function(n){return e.handleDelete(n,t.id)},className:"btn btn-danger btn-sm ml-3 font-weight-bold"},"X"))}))),r.a.createElement(l.b,{to:"/recipes"},r.a.createElement("button",{type:"submit",className:"btn btn-warning btn-block text-secondary font-weight-bold"},"Find Recipes")))))):r.a.createElement("p",null,"Loading...")}}]),t}(a.Component),y=Object(d.b)((function(e){return{ingredients:e.ingredients,chosenIngredients:e.chosenIngredients}}),(function(e){return{handleIngredient:function(t,n){return e(function(e,t){return{type:"add",id:e,name:t}}(t,n))},handleRemoveIngredient:function(t){return e(function(e){return{type:"remove",id:e}}(t))}}}))(v),O=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={recipesDisplayed:2,expanded:!1,recipes:[],loaded:!1,error:!1},n.handleClick=n.handleClick.bind(Object(f.a)(n)),n.handleChoice=n.handleChoice.bind(Object(f.a)(n)),n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"handleClick",value:function(){2===this.state.recipesDisplayed?this.setState({recipesDisplayed:this.state.recipes.length,expanded:!0}):this.setState({recipesDisplayed:2,expanded:!1})}},{key:"handleChoice",value:function(e,t){this.props.updateRecipe(t)}},{key:"componentDidMount",value:function(){var e=this,t=this.props.ids,n="";t.map((function(e){return n+="/".concat(e)})),this.setState({error:!1}),E.get("/recipes/match".concat(n)).then((function(t){var n=t.data;"No recipe found! Try different ingredients!"!==n?e.setState({loaded:!0,recipes:Array.isArray(n)?n:Object.values(n)}):e.setState({loaded:!0,error:!0})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.recipesDisplayed,a=t.recipes,i=t.loaded,c=t.error;return i?c?r.a.createElement("div",{className:"card bg-info"},r.a.createElement("p",{className:"text-white px-4 pt-2"},"No recipes found! Try different ingredients!")):r.a.createElement("div",{className:"d-flex container flex-column justify-content-center"},a.slice(0,n).map((function(t,n){return r.a.createElement(l.b,{key:n,to:"/my-recipe"},r.a.createElement("div",{onClick:function(n){return e.handleChoice(n,t.id)},style:{textDecoration:"none"},className:"card bg-info text-white d-flex align-items-center my-4"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",null,r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",{className:"card-title"},t.name),r.a.createElement("p",{className:"card-text"},t.description),r.a.createElement("div",{className:"d-flex flex-row justify-content-center card bg-warning"},r.a.createElement("p",{className:"d-inline text-secondary text-center font-weight-bold m-2 mr-5"},"Serves ",t.num_servings),r.a.createElement("p",{className:"d-inline text-secondary text-center font-weight-bold m-2 ml-5"},"Prep time ",t.prep_time)))))))})),r.a.createElement("button",{className:"btn btn-warning text-secondary font-weight-bold border border-info m-3 mb-4",onClick:this.handleClick},this.state.expanded?r.a.createElement("span",null,"Show less"):r.a.createElement("span",null,"Show more"))):r.a.createElement("p",null,"Loading...")}}]),t}(a.Component),w=Object(d.b)((function(e){return{ids:e.chosenIngredients.map((function(e){return e.id}))}}),(function(e){return{updateRecipe:function(t){return e(function(e){return{type:"update",recipe:e}}(t))}}}))(O),x=function(e){var t=e.method;return r.a.createElement("ul",null,t.split("#").map((function(e,t){return""!==e?r.a.createElement("li",{className:"pr-4",key:t},e):null})))},j=function(e){var t=e.ingredients;return r.a.createElement("ul",null,t.map((function(e,t){return r.a.createElement("li",{key:t},e.name," - ",e.quantity)})))},k=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={ingredients:!0},n.handleIngredients=n.handleIngredients.bind(Object(f.a)(n)),n.handleMethod=n.handleMethod.bind(Object(f.a)(n)),n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"handleIngredients",value:function(){this.setState({ingredients:!0})}},{key:"handleMethod",value:function(){this.setState({ingredients:!1})}},{key:"render",value:function(){var e=this.state.ingredients;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"tab d-flex flex-row btn-group card bg-warning mx-3 mt-5",role:"group"},r.a.createElement("button",{className:"tablinks d-inline btn btn-warning text-dark font-weight-bold px-5 border border-info ".concat(e?"active":null),type:"button",onClick:this.handleIngredients},"Ingredients"),r.a.createElement("button",{className:"tablinks d-inline btn btn-warning text-dark font-weight-bold px-5 border border-info",type:"button",onClick:this.handleMethod},"Method")),e?r.a.createElement("div",{id:"Ingredients",className:"tabcontent card bg-warning text-dark d-flex w-100 p-2 mb-4"},r.a.createElement(j,{ingredients:this.props.ingredients})):r.a.createElement("div",{id:"Method",className:"tabcontent card bg-warning text-dark d-flex w-100 p-2 mb-4"},r.a.createElement(x,{method:this.props.method})))}}]),t}(a.Component),N=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={recipe:{},loaded:!1},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.recipe;E.get("recipes/".concat(t)).then((function(t){var n=t.data.data;e.setState({loaded:!0,recipe:n})}))}},{key:"render",value:function(){var e=this.state,t=e.recipe;return e.loaded?r.a.createElement("div",{className:"card bg-info text-white d-flex align-items-center p-4 mt-5"},r.a.createElement("h2",{className:"text-warning"},t.name),r.a.createElement("p",{className:"mt-3"},t.description),r.a.createElement("div",{className:"d-flex flex-row justify-content-center card bg-warning m-0 mt-4"},r.a.createElement("p",{className:"d-inline text-secondary text-center font-weight-bold m-2 mr-5"},"Serves ",t.num_servings),r.a.createElement("p",{className:"d-inline text-secondary text-center font-weight-bold m-2 ml-5"},"Prep time ",t.prep_time)),r.a.createElement(k,{ingredients:t.ingredients,method:t.method})):r.a.createElement("p",null,"Loading...")}}]),t}(a.Component),I=Object(d.b)((function(e){return{recipe:e.chosenRecipe}}))(N),C=function(){return r.a.createElement(l.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(o,null),r.a.createElement(s.a,{exact:!0,path:"/",component:y}),r.a.createElement(s.a,{exact:!0,path:"/recipes",component:w}),r.a.createElement(s.a,{exact:!0,path:"/my-recipe",component:I})))},D=n(21),S={chosenIngredients:[],chosenIngredientsIDs:[],chosenRecipe:1},_=n(38),P=n(37);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach((function(t){Object(P.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(e,t){switch(t.type){case"add":return function(e,t){var n=t.id,a=t.name;return M({},e,{chosenIngredients:[].concat(Object(_.a)(e.chosenIngredients),[{id:n,name:a}])})}(e,t);case"remove":return function(e,t){var n=t.id;return M({},e,{chosenIngredients:e.chosenIngredients.filter((function(e){return e.id!==n}))})}(e,t);case"update":return function(e,t){return M({},e,{chosenRecipe:t.recipe})}(e,t);default:return e}},F=Object(D.b)(T,S,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(r.a.createElement(d.a,{store:F},r.a.createElement(C,null)),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.d69e14bb.chunk.js.map